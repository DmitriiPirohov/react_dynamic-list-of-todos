(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{153:function(e,t,c){},154:function(e,t,c){"use strict";c.r(t);var s=c(13),n=c.n(s),a=c(10),r=c(5),i=c(8),l=c.n(i),o=c(0);c(25),c(26),c(27);function d(e){return fetch("https://mate.academy/students-api"+e).then((function(e){return e.json()}))}var j,u=c(19),b=c(4),h=function(e){var t=e.todos,c=e.selectUser;return Object(b.jsx)("table",{"data-cy":"listOfTodos",className:"table is-fullwidth",children:Object(b.jsx)("tbody",{children:t.map((function(e){return Object(b.jsxs)("tr",{className:e.completed?"has-background-green-light has-text-success":"has-background-black-light has-text-black",children:[Object(b.jsx)("td",{className:"is-vcentered",children:Object(b.jsx)("span",{className:"icon is-size-2",children:Object(b.jsx)("i",{className:e.completed?"fas fa-check-square":"fas fa-square-xmark"})})}),Object(b.jsx)("td",{className:"is-vcentered is-expanded",children:e.title}),Object(b.jsx)("td",{className:"has-text-right is-vcentered",children:Object(b.jsxs)(u.Button,{color:"danger",rounded:!0,outlined:!0,type:"button",onClick:function(){c(e.userId,e.id)},children:["Show"," ",e.userId]})})]},e.id)}))})})};!function(e){e.ALL="all",e.ACTIVE="active",e.COMPLETED="completed"}(j||(j={}));var O,f=function(e){var t=e.changeFilteredCondition,c=e.changeQuery,s=e.query;return Object(b.jsxs)("form",{className:"field has-addons",children:[Object(b.jsx)("p",{className:"field",children:Object(b.jsx)("span",{className:"select",children:Object(b.jsxs)("select",{onChange:function(e){return function(e){t(e.target.value)}(e)},children:[Object(b.jsx)("option",{value:j.ALL,children:"All"}),Object(b.jsx)("option",{value:j.ACTIVE,children:"Active"}),Object(b.jsx)("option",{value:j.COMPLETED,children:"Completed"})]})})}),Object(b.jsxs)("p",{className:"control has-icons-left is-expanded  has-icons-right",children:[Object(b.jsx)("input",{"data-cy":"filterByTitle",type:"text",className:"input",placeholder:"Search...",value:s,onChange:function(e){c(e.target.value)}}),Object(b.jsx)("span",{className:"icon is-left",children:Object(b.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(b.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:Object(b.jsx)("button",{type:"button",className:"delete",onClick:function(){return c("")}})})]})]})},m=(c(153),function(){return Object(b.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(b.jsx)("div",{className:"Loader__content"})})}),x=function(e){var t=e.todo,c=e.selectedUser,s=e.selectUser,n=Object(o.useState)(null),i=Object(r.a)(n,2),j=i[0],u=i[1];return Object(o.useEffect)((function(){var e=function(){var e=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/users/".concat(c));case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsxs)("div",{className:"modal is-active",children:[Object(b.jsx)("div",{className:"modal-background"}),j?Object(b.jsxs)("div",{className:"modal-card",children:[Object(b.jsxs)("header",{className:"modal-card-head",children:[Object(b.jsx)("div",{className:"modal-card-title",children:"Todo #".concat(null===t||void 0===t?void 0:t.id)}),Object(b.jsx)("a",{href:"#close",className:"delete",onClick:function(){return s(0,0)},children:"Close"})]}),Object(b.jsxs)("div",{className:"modal-card-body",children:[Object(b.jsx)("p",{className:"block",children:null===t||void 0===t?void 0:t.title}),Object(b.jsxs)("p",{className:"block",children:[null!==t&&void 0!==t&&t.completed?Object(b.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(b.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(b.jsx)("a",{href:"mailto:".concat(j.email),children:j.name})]})]})]}):Object(b.jsx)(m,{})]})};!function(e){e.ALL="all",e.ACTIVE="active",e.COMPLETED="completed"}(O||(O={}));var p=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=Object(o.useState)(c),i=Object(r.a)(n,2),j=i[0],u=i[1],p=Object(o.useState)(0),v=Object(r.a)(p,2),N=v[0],g=v[1],y=Object(o.useState)(0),C=Object(r.a)(y,2),k=C[0],L=C[1],E=Object(o.useState)(!1),A=Object(r.a)(E,2),T=A[0],_=A[1],w=Object(o.useState)(O.ALL),S=Object(r.a)(w,2),I=S[0],U=S[1],D=Object(o.useState)(""),F=Object(r.a)(D,2),P=F[0],q=F[1],B=Object(o.useState)(!1),M=Object(r.a)(B,2),V=M[0],J=M[1];Object(o.useEffect)((function(){var e=function(){var e=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/todos");case 2:t=e.sent,_(!0),s(t),u(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),_(!1)}),[]);var Q=function(e){return e.toLowerCase().includes(P.toLowerCase())};Object(o.useEffect)((function(){switch(I){case O.ALL:u(c.filter((function(e){return Q(e.title)})));break;case O.ACTIVE:u(c.filter((function(e){return!e.completed&&Q(e.title)})));break;case O.COMPLETED:u(c.filter((function(e){return e.completed&&Q(e.title)})))}}),[I,P]);var z=function(e,t){g(e),J(!V),L(t)},G=c.find((function(e){return e.id===k}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("div",{className:"App__conteiner",children:T?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"App__title",children:Object(b.jsx)("strong",{children:"Todos: ".concat(I)})}),Object(b.jsx)("div",{className:"App__filter Box",children:Object(b.jsx)(f,{changeFilteredCondition:function(e){U(e)},changeQuery:function(e){q(e)},query:P})}),Object(b.jsx)("div",{className:"App__list Field",children:Object(b.jsx)(h,{todos:j,selectUser:z})})]}):Object(b.jsx)(m,{})})}),V&&Object(b.jsx)(x,{todo:G,selectedUser:N,selectUser:z})]})};n.a.render(Object(b.jsx)(p,{}),document.getElementById("root"))},25:function(e,t,c){}},[[154,1,2]]]);
//# sourceMappingURL=main.e1198069.chunk.js.map